{
    "contents" : "# Getting and clanning data\n### Quiz 4, Week 4\n============================\n\nLibraries needed and names of the files needed.\n\n```{r}\ninstall.packages(\"quantmod\")\nlibrary(quantmod)\nfile.url<- \"https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv\"\ndata.q1<- \"q1.csv\"\nfile.url2<- \"https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv\"\ndata.q2<- \"q2.csv\"\nfile.url4<- \"https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv\"\ndata.q4<- \"q4.csv\"\n```\n\n## Question 1\n\nThe American Community Survey distributes downloadable data about United States communities. Download the 2006 microdata survey about housing for the state of Idaho using download.file() from [here](https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv):\n\n```{r, cache=TRUE}\nif(file.exists(data.q1)==FALSE){\n        download.file(file.url, destfile=\"q1.csv\", method=\"curl\")\n}\nq1<- read.csv(\"q1.csv\")\nhead(q1)\n```\n\nApply strsplit() to split all the names of the data frame on the characters \"wgtp\". **What is the value of the 123 element of the resulting list?**\n\n```{r}\nansw1<- strsplit(names(q1), \"wgtp\")\nansw1[123]\n```\n\n=============================================\n\n## Question 2\n\nLoad the Gross Domestic Product data for the 190 ranked countries in this [data](https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv) set:\n\n```{r, cache=TRUE}\nif(file.exists(data.q2)==FALSE){\n        download.file(file.url2, destfile=\"q2.csv\", method=\"curl\")      \n}\nq2<- read.csv(\"q2.csv\")\nhead(q2)\n```\n\nRemove the commas from the GDP numbers in millions of dollars and average them. \n**What is the average?**\n\n```{r}\nnewq2<- q2[5:235,]\nnewq2<- newq2[1:190,]\nnames(newq2)<- c(\"ID_C\", \"Ranking\", \"NA\", \"Country\", \"GDP\", \n                 \"NA\", \"NA\", \"NA\", \"NA\", \"NA\")\nnewq2$GDP<- gsub(\",\", \"\", as.character(newq2$GDP))\nmean(as.numeric(newq2$GDP))\n```\n========================================================\n\n## Question 3\n\nIn the data set from Question 2 **what is a regular expression that would allow you to count the number of countries whose name begins with \"United\"? **Assume that the variable with the country names in it is named countryNames. How many countries begin with United?\n\n```{r}\nq3<-grep(\"^United\",newq2$Country)\nq3\n```\n================================\n\n## Question 4\n\nLoad the Gross Domestic Product data for the 190 ranked countries from before.\n\nLoad the educaitional data from this [data](https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv) set: \nLoad the educational data from this data set: \n\n```{r}\nif(file.exists(data.q4)==FALSE){\n        download.file(file.url4, destfile=\"q4.csv\", method=\"curl\")\n}\n q4<- read.csv(\"q4.csv\")\nhead(q4)\n```\n\nMatch the data based on the country shortcode. Of the countries for which the end of the fiscal year is available, **how many end in June?**\n\n```{r}\nq4$CountryCode<- as.character(q4$CountryCode)\ntemp<-intersect(q4$CountryCode, newq2$ID_C)\nnewq4<-data.frame()\nfor (i in 1:length(temp)){\n        temp2<- q4[q4$CountryCode==temp[i],]\n        newq4<-rbind(newq4,temp2)\n}\nanswq4<-grep(\"Fiscal year end: June\", newq4$Special.Notes)\nlength(answq4)\n```\n==================================================\n\n## Question 5\n\nHow many values were collected in 2012? How many values were collected on Mondays in 2012?\n\n```{r}\namzn = getSymbols(\"AMZN\",auto.assign=FALSE)\ndate<-index(amzn) ## crating a list with the values from Index\nyear<-grep(\"*2012\", date) ## Create vector with the 2012 values\nyear<- date[year] ## Create list with only 2012 values\nlength(year)\ndays<-weekdays(year) ## Converting into days of the week\nsum(days==\"Monday\") ## Calculate how many mondays.\n```\n",
    "created" : 1409612039241.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1620285703",
    "id" : "CBA56B52",
    "lastKnownWriteTime" : 1409613729,
    "path" : "~/Desktop/Coursera/Data Certification/3_Getting an Cleaning Data/Week4/q4/G&CD_quiz4.Rmd",
    "project_path" : "G&CD_quiz4.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}